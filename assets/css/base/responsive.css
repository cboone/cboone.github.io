/*
 * Responsive Media Queries
 *
 * Breakpoints:
 * - 768px: Mobile/tablet (reduce gaps, scale profile, stack archive)
 * - 900px: Adjust top-link position for shorter viewports
 * - 340px: Minimum supported width (share buttons overflow)
 * - prefers-reduced-motion: Disable transform animations
 */

/* Mobile and tablet */
@media screen and (max-width: 768px) {
    /* header */
    .header {
        background: var(--background-page);
        position: static;
    }

    .main {
        padding-top: var(--gap);
    }

    /* mobile menu */
    #menu-toggle {
        background: none;
        border: none;
        cursor: pointer;
        display: block;
        margin: auto var(--gap);
        padding: 0;
    }

    #menu {
        background: var(--background-page);
        display: none;
        flex-basis: 100%;
        flex-direction: column;
        margin: 0;
        padding: var(--gap);
    }

    #menu.open {
        display: flex;
    }

    #menu li + li {
        margin-inline-start: 0;
        margin-top: var(--gap);
    }

    /* theme-vars */
    :root {
        --gap: 14px;
    }

    /* profile-mode */
    .profile img {
        transform: scale(0.85);
    }

    /* post-entry */
    .first-entry {
        min-height: 260px;
    }

    /* archive */
    .archive-month {
        flex-direction: column;
    }

    .archive-year {
        margin-top: 20px;
    }

    /* footer */
    .footer {
        padding: calc((var(--footer-height) - var(--gap) - 10px) / 2) var(--gap);
    }
}

/* Shorter viewports */
@media screen and (max-width: 900px) {
    .list .top-link {
        transform: translateY(-5rem);
    }
}

/* Narrow screens */
@media screen and (max-width: 340px) {
    .share-buttons {
        justify-content: unset;
    }
}

/* Accessibility: disable animations for users who prefer reduced motion */
@media (prefers-reduced-motion) {
    .terms-tags a:active,
    .button:active,
    .post-entry:active,
    .top-link,
    #searchResults .focus,
    #searchResults li:active {
        transform: none;
    }
}
